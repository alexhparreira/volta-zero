{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Etapa 1 CRISP - DM: Entendimento do negócio\n",
    "\n",
    "Como primeira etapa do CRISP-DM, vamos entender do que se trata o negócio, e quais os objetivos. \n",
    "\n",
    "Este é um problema de concessão de cartões de crédito, publicado no [Kaggle](https://www.kaggle.com/), uma plataforma que promove desafios de ciência de dados, oferecendo prêmios em dinheiro para os melhores colocados. O link original está [aqui](https://www.kaggle.com/rikdifos/credit-card-approval-prediction).  \n",
    "  \n",
    "Essa é uma base de proponentes de cartão de crédito, nosso objetivo é construir um modelo preditivo para identificar o risco de inadimplência (tipicamente definida pela ocorrência de um atraso maior ou igual a 90 em um horizonte de 12 meses) através de variáveis que podem ser observadas na data da avaliação do crédito (tipicamente quando o cliente solicita o cartão).\n",
    "\n",
    "Atividades do CRISP-DM:\n",
    "\n",
    "- Objetivos do negócio\n",
    "Note que o objetivo aqui é que o modelo sirva o mutuário (o cliente) para que avalie suas próprias decisões, e não a instituição de crédito.\n",
    "- Objetivos da modelagem\n",
    "O objetivo está bem definido: desenvolver o melhor modelo preditivo de modo a auxiliar o mutuário a tomar suas próprias decisões referentes a crédito.\n",
    "  \n",
    "Nessa etapa também se avalia a situação da empresa/segmento/assunto de modo a se entender o tamanho do público, relevância, problemas presentes e todos os detalhes do processo gerador do fenômeno em questão, e portanto dos dados.\n",
    "\n",
    "Também é nessa etapa que se constrói um planejamento do projeto."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Etapa 2 Crisp-DM: Entendimento dos dados\n",
    "A segunda etapa é o entendimento dos dados. Foram fornecidas 15 variáveis mais a variável resposta (em negrito na tabela). O significado de cada uma dessas variáveis se encontra na tabela.\n",
    "\n",
    "#### Dicionário de dados\n",
    "\n",
    "Os dados estão dispostos em uma tabela com uma linha para cada cliente, e uma coluna para cada variável armazenando as características desses clientes. Colocamos uma cópia o dicionário de dados (explicação dessas variáveis) abaixo neste notebook:\n",
    "\n",
    "| Variable Name            | Description                                         | Tipo  |\n",
    "| ------------------------ |:---------------------------------------------------:| -----:|\n",
    "| sexo| M = 'Masculino'; F = 'Feminino' |M/F|\n",
    "| posse_de_veiculo| Y = 'possui'; N = 'não possui' |Y/N|\n",
    "| posse_de_imovel| Y = 'possui'; N = 'não possui' |Y/N|\n",
    "| qtd_filhos| Quantidade de filhos |inteiro|\n",
    "| tipo_renda|Tipo de renda (ex: assaliariado, autônomo etc) | texto |\n",
    "| educacao| Nível de educação (ex: secundário, superior etc) |texto|\n",
    "| estado_civil | Estado civil (ex: solteiro, casado etc)| texto |\n",
    "| tipo_residencia | tipo de residência (ex: casa/apartamento, com os pais etc) | texto |\n",
    "| idade | idade em anos |inteiro|\n",
    "| tempo de emprego | tempo de emprego em anos |inteiro|\n",
    "| possui_celular | Indica se possui celular (1 = sim, 0 = não) |binária|\n",
    "| possui_fone_comercial | Indica se possui telefone comercial (1 = sim, 0 = não) |binária|\n",
    "| possui_fone | Indica se possui telefone (1 = sim, 0 = não) |binária|\n",
    "| possui_email | Indica se possui e-mail (1 = sim, 0 = não) |binária|\n",
    "| qt_pessoas_residencia | quantidade de pessoas na residência |inteiro|\n",
    "| **mau** | indicadora de mau pagador (True = mau, False = bom) |binária|\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Carregando os pacotes\n",
    "É considerado uma boa prática carregar os pacotes que serão utilizados como a primeira coisa do programa."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "\n",
    "import seaborn as sns\n",
    "import matplotlib.pyplot as plt\n",
    "\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn import metrics\n",
    "from sklearn.ensemble import RandomForestClassifier"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Carregando os dados\n",
    "O comando pd.read_csv é um comando da biblioteca pandas (pd.) e carrega os dados do arquivo csv indicado para um objeto *dataframe* do pandas."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Número de linhas e colunas da tabela: (16650, 16)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>sexo</th>\n",
       "      <th>posse_de_veiculo</th>\n",
       "      <th>posse_de_imovel</th>\n",
       "      <th>qtd_filhos</th>\n",
       "      <th>tipo_renda</th>\n",
       "      <th>educacao</th>\n",
       "      <th>estado_civil</th>\n",
       "      <th>tipo_residencia</th>\n",
       "      <th>idade</th>\n",
       "      <th>tempo_emprego</th>\n",
       "      <th>possui_celular</th>\n",
       "      <th>possui_fone_comercial</th>\n",
       "      <th>possui_fone</th>\n",
       "      <th>possui_email</th>\n",
       "      <th>qt_pessoas_residencia</th>\n",
       "      <th>mau</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M</td>\n",
       "      <td>Y</td>\n",
       "      <td>Y</td>\n",
       "      <td>0</td>\n",
       "      <td>Working</td>\n",
       "      <td>Secondary / secondary special</td>\n",
       "      <td>Married</td>\n",
       "      <td>House / apartment</td>\n",
       "      <td>58.832877</td>\n",
       "      <td>3.106849</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>F</td>\n",
       "      <td>N</td>\n",
       "      <td>Y</td>\n",
       "      <td>0</td>\n",
       "      <td>Commercial associate</td>\n",
       "      <td>Secondary / secondary special</td>\n",
       "      <td>Single / not married</td>\n",
       "      <td>House / apartment</td>\n",
       "      <td>52.356164</td>\n",
       "      <td>8.358904</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1.0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>F</td>\n",
       "      <td>N</td>\n",
       "      <td>Y</td>\n",
       "      <td>0</td>\n",
       "      <td>Commercial associate</td>\n",
       "      <td>Secondary / secondary special</td>\n",
       "      <td>Single / not married</td>\n",
       "      <td>House / apartment</td>\n",
       "      <td>52.356164</td>\n",
       "      <td>8.358904</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1.0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M</td>\n",
       "      <td>Y</td>\n",
       "      <td>Y</td>\n",
       "      <td>0</td>\n",
       "      <td>Working</td>\n",
       "      <td>Higher education</td>\n",
       "      <td>Married</td>\n",
       "      <td>House / apartment</td>\n",
       "      <td>46.224658</td>\n",
       "      <td>2.106849</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>2.0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>F</td>\n",
       "      <td>Y</td>\n",
       "      <td>N</td>\n",
       "      <td>0</td>\n",
       "      <td>Working</td>\n",
       "      <td>Incomplete higher</td>\n",
       "      <td>Married</td>\n",
       "      <td>House / apartment</td>\n",
       "      <td>29.230137</td>\n",
       "      <td>3.021918</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  sexo posse_de_veiculo posse_de_imovel  qtd_filhos            tipo_renda  \\\n",
       "0    M                Y               Y           0               Working   \n",
       "1    F                N               Y           0  Commercial associate   \n",
       "2    F                N               Y           0  Commercial associate   \n",
       "3    M                Y               Y           0               Working   \n",
       "4    F                Y               N           0               Working   \n",
       "\n",
       "                        educacao          estado_civil    tipo_residencia  \\\n",
       "0  Secondary / secondary special               Married  House / apartment   \n",
       "1  Secondary / secondary special  Single / not married  House / apartment   \n",
       "2  Secondary / secondary special  Single / not married  House / apartment   \n",
       "3               Higher education               Married  House / apartment   \n",
       "4              Incomplete higher               Married  House / apartment   \n",
       "\n",
       "       idade  tempo_emprego  possui_celular  possui_fone_comercial  \\\n",
       "0  58.832877       3.106849               1                      0   \n",
       "1  52.356164       8.358904               1                      0   \n",
       "2  52.356164       8.358904               1                      0   \n",
       "3  46.224658       2.106849               1                      1   \n",
       "4  29.230137       3.021918               1                      0   \n",
       "\n",
       "   possui_fone  possui_email  qt_pessoas_residencia    mau  \n",
       "0            0             0                    2.0  False  \n",
       "1            1             1                    1.0  False  \n",
       "2            1             1                    1.0  False  \n",
       "3            1             1                    2.0  False  \n",
       "4            0             0                    2.0  False  "
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Observe que demo01.csv está na mesma pasta que este notebook\n",
    "# do contrário, seria necessário indicar a pasta no nome do arquivo\n",
    "df = pd.read_csv('demo01.csv')\n",
    "print (\"Número de linhas e colunas da tabela: {}\".format(df.shape))\n",
    "\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Entendimento dos dados - Univariada\n",
    "Nesta etapa tipicamente avaliamos a distribuição de todas as variáveis. Nesta demonstração vamos ver a variável resposta e dois exemplos de univariada apenas. Mas sinta-se à vontade para tentar observar outras variáveis."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "False    16260\n",
      "True       390\n",
      "Name: mau, dtype: int64\n",
      "\n",
      "Taxa de inadimplentes:\n",
      "0.023423423423423424\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "grafico_barras = df['mau'].value_counts().plot.bar()\n",
    "\n",
    "print(df['mau'].value_counts())\n",
    "print(\"\\nTaxa de inadimplentes:\")\n",
    "print(df['mau'].mean())\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### <span style=\"color:blue\">Tarefa </span>\n",
    "<span style=\"color:blue\"> Construa um gráfico de barras para pelo menos duas outras variáveis. \n",
    "**Dica:** Não tente usar as variáveis ```tempo_emprego``` e ```idade``` pois o gráfico de barras dessa forma como construímos não é adequado para elas. </span>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "plt.clf()\n",
    "var = \"tempo_emprego\"\n",
    "\n",
    "sns.displot(df, x = var, bins = 50)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Working                 8565\n",
      "Commercial associate    3826\n",
      "Pensioner               2800\n",
      "State servant           1451\n",
      "Student                    8\n",
      "Name: tipo_renda, dtype: int64\n",
      "\n",
      "Tipo de Renda:\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "grafico_barras2 = df['tipo_renda'].value_counts().plot.bar()\n",
    "\n",
    "print(df['tipo_renda'].value_counts())\n",
    "print(\"\\nTipo de Renda:\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0     11486\n",
      "1      3393\n",
      "2      1552\n",
      "3       189\n",
      "4        24\n",
      "14        2\n",
      "7         2\n",
      "5         2\n",
      "Name: qtd_filhos, dtype: int64\n",
      "\n",
      "Qtde Filhos:\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "grafico_barras3 = df['qtd_filhos'].value_counts().plot.bar()\n",
    "\n",
    "print(df['qtd_filhos'].value_counts())\n",
    "print(\"\\nQtde Filhos:\")\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<Figure size 432x288 with 0 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 360x360 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "plt.clf()\n",
    "var = \"tempo_emprego\"\n",
    "\n",
    "df.loc[df[var]<0,var] = -2\n",
    "\n",
    "sns.displot(df, x = var, bins = 50)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### <span style=\"color:blue\">Tarefa </span>\n",
    "<span style=\"color:blue\"> Construa o histograma da variavel ```dade``` .  </span>\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Entendimento dos dados - Bivariadas\n",
    "\n",
    "Entender a alteração da inadimplência indicada pela variável resposta (```AtrasoRelevante2anos```) e as variáveis explicativas (demais). Para isto, vamos calcular a taxa de inadimplentes (qtd inadimplentes / total) para diferentes grupos definidos pelas variáveis explicativas.\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "var = 'idade'\n",
    "cat_srs, bins = pd.qcut(df[var], 4, retbins=True)\n",
    "g = df.groupby(cat_srs)\n",
    "biv = g['idade'].mean()\n",
    "\n",
    "ax = biv.plot.line()\n",
    "ax.set_ylabel(\"Proporção por idade\")\n",
    "ticks = plt.xticks(range(len(biv.index.values)), biv.index.values, rotation = 90)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Etapa 3 Crisp-DM: Preparação dos dados\n",
    "Nessa etapa realizamos tipicamente as seguintes operações com os dados:\n",
    "- seleção\n",
    "Neste caso, os dados já estão pré-selecionados\n",
    "- limpeza\n",
    "Precisaremos identificar e tratar dados faltantes\n",
    "- construção\n",
    "Neste primeiro exercício não faremos construção de novas variáveis\n",
    "- integração\n",
    "Temos apenas uma fonte de dados, não é necessário agregação\n",
    "- formatação\n",
    "Os dados já se encontram em formatos úteis\n",
    "\n",
    "Os dados já estão pré-selecionados, construídos e integrados, mas há dados faltantes que serão eliminados na próxima célula"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>tipo</th>\n",
       "      <th>n_categorias</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>sexo</th>\n",
       "      <td>object</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>posse_de_veiculo</th>\n",
       "      <td>object</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>posse_de_imovel</th>\n",
       "      <td>object</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>qtd_filhos</th>\n",
       "      <td>int64</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>tipo_renda</th>\n",
       "      <td>object</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>educacao</th>\n",
       "      <td>object</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>estado_civil</th>\n",
       "      <td>object</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>tipo_residencia</th>\n",
       "      <td>object</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>idade</th>\n",
       "      <td>float64</td>\n",
       "      <td>5298</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>tempo_emprego</th>\n",
       "      <td>float64</td>\n",
       "      <td>3005</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>possui_celular</th>\n",
       "      <td>int64</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>possui_fone_comercial</th>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>possui_fone</th>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>possui_email</th>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>qt_pessoas_residencia</th>\n",
       "      <td>float64</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>mau</th>\n",
       "      <td>bool</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                          tipo  n_categorias\n",
       "sexo                    object             2\n",
       "posse_de_veiculo        object             2\n",
       "posse_de_imovel         object             2\n",
       "qtd_filhos               int64             8\n",
       "tipo_renda              object             5\n",
       "educacao                object             5\n",
       "estado_civil            object             5\n",
       "tipo_residencia         object             6\n",
       "idade                  float64          5298\n",
       "tempo_emprego          float64          3005\n",
       "possui_celular           int64             1\n",
       "possui_fone_comercial    int64             2\n",
       "possui_fone              int64             2\n",
       "possui_email             int64             2\n",
       "qt_pessoas_residencia  float64             9\n",
       "mau                       bool             2"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "metadata = pd.DataFrame(df.dtypes, columns = ['tipo'])\n",
    "\n",
    "metadata['n_categorias'] = 0\n",
    "\n",
    "for var in metadata.index:\n",
    "    metadata.loc[var,'n_categorias'] = len(df.groupby([var]).size())\n",
    "    \n",
    "metadata"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [],
   "source": [
    "def convert_dummy(df, feature,rank=0):\n",
    "    pos = pd.get_dummies(df[feature], prefix=feature)\n",
    "    mode = df[feature].value_counts().index[rank]\n",
    "    biggest = feature + '_' + str(mode)\n",
    "    pos.drop([biggest],axis=1,inplace=True)\n",
    "    df.drop([feature],axis=1,inplace=True)\n",
    "    df=df.join(pos)\n",
    "    return df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "for var in metadata[metadata['tipo'] == 'object'].index:\n",
    "    df = convert_dummy(df, var)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>qtd_filhos</th>\n",
       "      <th>idade</th>\n",
       "      <th>tempo_emprego</th>\n",
       "      <th>possui_celular</th>\n",
       "      <th>possui_fone_comercial</th>\n",
       "      <th>possui_fone</th>\n",
       "      <th>possui_email</th>\n",
       "      <th>qt_pessoas_residencia</th>\n",
       "      <th>mau</th>\n",
       "      <th>sexo_M</th>\n",
       "      <th>...</th>\n",
       "      <th>educacao_Lower secondary</th>\n",
       "      <th>estado_civil_Civil marriage</th>\n",
       "      <th>estado_civil_Separated</th>\n",
       "      <th>estado_civil_Single / not married</th>\n",
       "      <th>estado_civil_Widow</th>\n",
       "      <th>tipo_residencia_Co-op apartment</th>\n",
       "      <th>tipo_residencia_Municipal apartment</th>\n",
       "      <th>tipo_residencia_Office apartment</th>\n",
       "      <th>tipo_residencia_Rented apartment</th>\n",
       "      <th>tipo_residencia_With parents</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>58.832877</td>\n",
       "      <td>3.106849</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>False</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0</td>\n",
       "      <td>52.356164</td>\n",
       "      <td>8.358904</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1.0</td>\n",
       "      <td>False</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0</td>\n",
       "      <td>52.356164</td>\n",
       "      <td>8.358904</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1.0</td>\n",
       "      <td>False</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0</td>\n",
       "      <td>46.224658</td>\n",
       "      <td>2.106849</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>2.0</td>\n",
       "      <td>False</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "      <td>29.230137</td>\n",
       "      <td>3.021918</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>False</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16645</th>\n",
       "      <td>0</td>\n",
       "      <td>54.109589</td>\n",
       "      <td>9.884932</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>True</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16646</th>\n",
       "      <td>0</td>\n",
       "      <td>43.389041</td>\n",
       "      <td>7.380822</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>True</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16647</th>\n",
       "      <td>0</td>\n",
       "      <td>30.005479</td>\n",
       "      <td>9.800000</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>True</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16648</th>\n",
       "      <td>0</td>\n",
       "      <td>30.005479</td>\n",
       "      <td>9.800000</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>True</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16649</th>\n",
       "      <td>0</td>\n",
       "      <td>33.936986</td>\n",
       "      <td>3.630137</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>2.0</td>\n",
       "      <td>True</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>16650 rows × 29 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       qtd_filhos      idade  tempo_emprego  possui_celular  \\\n",
       "0               0  58.832877       3.106849               1   \n",
       "1               0  52.356164       8.358904               1   \n",
       "2               0  52.356164       8.358904               1   \n",
       "3               0  46.224658       2.106849               1   \n",
       "4               0  29.230137       3.021918               1   \n",
       "...           ...        ...            ...             ...   \n",
       "16645           0  54.109589       9.884932               1   \n",
       "16646           0  43.389041       7.380822               1   \n",
       "16647           0  30.005479       9.800000               1   \n",
       "16648           0  30.005479       9.800000               1   \n",
       "16649           0  33.936986       3.630137               1   \n",
       "\n",
       "       possui_fone_comercial  possui_fone  possui_email  \\\n",
       "0                          0            0             0   \n",
       "1                          0            1             1   \n",
       "2                          0            1             1   \n",
       "3                          1            1             1   \n",
       "4                          0            0             0   \n",
       "...                      ...          ...           ...   \n",
       "16645                      0            0             0   \n",
       "16646                      1            1             0   \n",
       "16647                      1            0             0   \n",
       "16648                      1            0             0   \n",
       "16649                      0            1             1   \n",
       "\n",
       "       qt_pessoas_residencia    mau  sexo_M  ...  educacao_Lower secondary  \\\n",
       "0                        2.0  False       1  ...                         0   \n",
       "1                        1.0  False       0  ...                         0   \n",
       "2                        1.0  False       0  ...                         0   \n",
       "3                        2.0  False       1  ...                         0   \n",
       "4                        2.0  False       0  ...                         0   \n",
       "...                      ...    ...     ...  ...                       ...   \n",
       "16645                    2.0   True       0  ...                         0   \n",
       "16646                    2.0   True       0  ...                         0   \n",
       "16647                    2.0   True       1  ...                         0   \n",
       "16648                    2.0   True       1  ...                         0   \n",
       "16649                    2.0   True       0  ...                         0   \n",
       "\n",
       "       estado_civil_Civil marriage  estado_civil_Separated  \\\n",
       "0                                0                       0   \n",
       "1                                0                       0   \n",
       "2                                0                       0   \n",
       "3                                0                       0   \n",
       "4                                0                       0   \n",
       "...                            ...                     ...   \n",
       "16645                            1                       0   \n",
       "16646                            0                       0   \n",
       "16647                            0                       0   \n",
       "16648                            0                       0   \n",
       "16649                            0                       0   \n",
       "\n",
       "       estado_civil_Single / not married  estado_civil_Widow  \\\n",
       "0                                      0                   0   \n",
       "1                                      1                   0   \n",
       "2                                      1                   0   \n",
       "3                                      0                   0   \n",
       "4                                      0                   0   \n",
       "...                                  ...                 ...   \n",
       "16645                                  0                   0   \n",
       "16646                                  0                   0   \n",
       "16647                                  0                   0   \n",
       "16648                                  0                   0   \n",
       "16649                                  0                   0   \n",
       "\n",
       "       tipo_residencia_Co-op apartment  tipo_residencia_Municipal apartment  \\\n",
       "0                                    0                                    0   \n",
       "1                                    0                                    0   \n",
       "2                                    0                                    0   \n",
       "3                                    0                                    0   \n",
       "4                                    0                                    0   \n",
       "...                                ...                                  ...   \n",
       "16645                                0                                    0   \n",
       "16646                                0                                    0   \n",
       "16647                                0                                    0   \n",
       "16648                                0                                    0   \n",
       "16649                                0                                    0   \n",
       "\n",
       "       tipo_residencia_Office apartment  tipo_residencia_Rented apartment  \\\n",
       "0                                     0                                 0   \n",
       "1                                     0                                 0   \n",
       "2                                     0                                 0   \n",
       "3                                     0                                 0   \n",
       "4                                     0                                 0   \n",
       "...                                 ...                               ...   \n",
       "16645                                 0                                 0   \n",
       "16646                                 0                                 0   \n",
       "16647                                 0                                 0   \n",
       "16648                                 0                                 0   \n",
       "16649                                 0                                 0   \n",
       "\n",
       "       tipo_residencia_With parents  \n",
       "0                                 0  \n",
       "1                                 0  \n",
       "2                                 0  \n",
       "3                                 0  \n",
       "4                                 0  \n",
       "...                             ...  \n",
       "16645                             0  \n",
       "16646                             0  \n",
       "16647                             0  \n",
       "16648                             0  \n",
       "16649                             0  \n",
       "\n",
       "[16650 rows x 29 columns]"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Etapa 4 Crisp-DM: Modelagem\n",
    "Nessa etapa que realizaremos a construção do modelo. Os passos típicos são:\n",
    "- Selecionar a técnica de modelagem\n",
    "Utilizaremos a técnica de floresta aleatória (**random forest**), pois é uma técnica bastante versátil e robusta que captura bem padrões complexos nos dados, relativamente fácil de se usar e que costuma produzir excelentes resultados para uma classificação como estas. Vamos ver esse algoritmo em detalhes mais adiante no curso, mas pense nele por enquanto como uma regra complexa baseada nas variáveis explicativas que classifica o indivíduo como inadimplente ou não. Mais adiante no curso vamos extrair mais dessa técnica.\n",
    "- Desenho do teste\n",
    "Antes de rodar o modelo precisamos construir um desenho do teste que será realizado. Para desenvolver um modelo como este, é considerado uma boa prática dividir a base em duas, uma chamada ```treinamento```, onde o algoritmo 'aprende', e outra chamada ```teste```, onde o algoritmo é avaliado. Essa prática fornece uma métrica de avaliação mais fidedigna do algoritmo, falaremos mais detalhes em lições futuras.\n",
    "- Avaliação do modelo\n",
    "Faremos a avaliação do nosso modelo através do percentual de acerto, avaliando a classificação do modelo (inadimplente e não inadimplente) e comparando com o estado real armazenado na variável resposta (```AtrasoRelevante2anos```). Esse percentual de acerto é frequentemente chamado de acurácia (**obs:** nunca usar assertividade... a**ss**ertivo não é aquele que a**c**erta, e sim \"*adj.: em que o locutor declara algo, positivo ou negativo, do qual assume inteiramente a validade; declarativo*.\" a**C**ertivo está errado ;)\n",
    "#### Dividindo a base em treino e teste\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Tirando a v. resposta da base de treinamento\n",
    "x = df.drop(\"mau\",axis = 1)\n",
    "y = df[\"mau\"]\n",
    "\n",
    "# Tirando ID da base de treinamento e teste\n",
    "x_train, x_test, y_train, y_test = train_test_split(x, y)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>qtd_filhos</th>\n",
       "      <th>idade</th>\n",
       "      <th>tempo_emprego</th>\n",
       "      <th>possui_celular</th>\n",
       "      <th>possui_fone_comercial</th>\n",
       "      <th>possui_fone</th>\n",
       "      <th>possui_email</th>\n",
       "      <th>qt_pessoas_residencia</th>\n",
       "      <th>sexo_M</th>\n",
       "      <th>posse_de_veiculo_Y</th>\n",
       "      <th>...</th>\n",
       "      <th>educacao_Lower secondary</th>\n",
       "      <th>estado_civil_Civil marriage</th>\n",
       "      <th>estado_civil_Separated</th>\n",
       "      <th>estado_civil_Single / not married</th>\n",
       "      <th>estado_civil_Widow</th>\n",
       "      <th>tipo_residencia_Co-op apartment</th>\n",
       "      <th>tipo_residencia_Municipal apartment</th>\n",
       "      <th>tipo_residencia_Office apartment</th>\n",
       "      <th>tipo_residencia_Rented apartment</th>\n",
       "      <th>tipo_residencia_With parents</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>14292</th>\n",
       "      <td>0</td>\n",
       "      <td>44.057534</td>\n",
       "      <td>-1000.665753</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14853</th>\n",
       "      <td>1</td>\n",
       "      <td>25.901370</td>\n",
       "      <td>2.800000</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>441</th>\n",
       "      <td>0</td>\n",
       "      <td>45.405479</td>\n",
       "      <td>12.531507</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>336</th>\n",
       "      <td>0</td>\n",
       "      <td>38.679452</td>\n",
       "      <td>8.695890</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16552</th>\n",
       "      <td>0</td>\n",
       "      <td>30.712329</td>\n",
       "      <td>4.723288</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1471</th>\n",
       "      <td>1</td>\n",
       "      <td>44.695890</td>\n",
       "      <td>2.416438</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6335</th>\n",
       "      <td>0</td>\n",
       "      <td>55.167123</td>\n",
       "      <td>4.917808</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14850</th>\n",
       "      <td>2</td>\n",
       "      <td>37.024658</td>\n",
       "      <td>3.717808</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9737</th>\n",
       "      <td>0</td>\n",
       "      <td>28.405479</td>\n",
       "      <td>3.449315</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14822</th>\n",
       "      <td>0</td>\n",
       "      <td>38.586301</td>\n",
       "      <td>7.386301</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>12487 rows × 28 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       qtd_filhos      idade  tempo_emprego  possui_celular  \\\n",
       "14292           0  44.057534   -1000.665753               1   \n",
       "14853           1  25.901370       2.800000               1   \n",
       "441             0  45.405479      12.531507               1   \n",
       "336             0  38.679452       8.695890               1   \n",
       "16552           0  30.712329       4.723288               1   \n",
       "...           ...        ...            ...             ...   \n",
       "1471            1  44.695890       2.416438               1   \n",
       "6335            0  55.167123       4.917808               1   \n",
       "14850           2  37.024658       3.717808               1   \n",
       "9737            0  28.405479       3.449315               1   \n",
       "14822           0  38.586301       7.386301               1   \n",
       "\n",
       "       possui_fone_comercial  possui_fone  possui_email  \\\n",
       "14292                      0            1             0   \n",
       "14853                      1            0             0   \n",
       "441                        0            0             0   \n",
       "336                        0            0             0   \n",
       "16552                      1            0             0   \n",
       "...                      ...          ...           ...   \n",
       "1471                       0            0             0   \n",
       "6335                       0            1             0   \n",
       "14850                      0            1             0   \n",
       "9737                       1            0             0   \n",
       "14822                      1            0             0   \n",
       "\n",
       "       qt_pessoas_residencia  sexo_M  posse_de_veiculo_Y  ...  \\\n",
       "14292                    2.0       1                   0  ...   \n",
       "14853                    3.0       0                   0  ...   \n",
       "441                      2.0       0                   0  ...   \n",
       "336                      1.0       1                   0  ...   \n",
       "16552                    2.0       0                   1  ...   \n",
       "...                      ...     ...                 ...  ...   \n",
       "1471                     2.0       1                   1  ...   \n",
       "6335                     2.0       1                   1  ...   \n",
       "14850                    3.0       1                   1  ...   \n",
       "9737                     2.0       1                   0  ...   \n",
       "14822                    2.0       1                   1  ...   \n",
       "\n",
       "       educacao_Lower secondary  estado_civil_Civil marriage  \\\n",
       "14292                         0                            0   \n",
       "14853                         0                            0   \n",
       "441                           0                            0   \n",
       "336                           0                            0   \n",
       "16552                         0                            0   \n",
       "...                         ...                          ...   \n",
       "1471                          0                            0   \n",
       "6335                          0                            0   \n",
       "14850                         0                            0   \n",
       "9737                          0                            0   \n",
       "14822                         0                            0   \n",
       "\n",
       "       estado_civil_Separated  estado_civil_Single / not married  \\\n",
       "14292                       0                                  0   \n",
       "14853                       0                                  0   \n",
       "441                         0                                  0   \n",
       "336                         1                                  0   \n",
       "16552                       0                                  0   \n",
       "...                       ...                                ...   \n",
       "1471                        1                                  0   \n",
       "6335                        0                                  0   \n",
       "14850                       1                                  0   \n",
       "9737                        0                                  0   \n",
       "14822                       0                                  0   \n",
       "\n",
       "       estado_civil_Widow  tipo_residencia_Co-op apartment  \\\n",
       "14292                   0                                0   \n",
       "14853                   0                                0   \n",
       "441                     0                                0   \n",
       "336                     0                                0   \n",
       "16552                   0                                0   \n",
       "...                   ...                              ...   \n",
       "1471                    0                                0   \n",
       "6335                    0                                0   \n",
       "14850                   0                                0   \n",
       "9737                    0                                0   \n",
       "14822                   0                                0   \n",
       "\n",
       "       tipo_residencia_Municipal apartment  tipo_residencia_Office apartment  \\\n",
       "14292                                    0                                 0   \n",
       "14853                                    0                                 0   \n",
       "441                                      0                                 0   \n",
       "336                                      0                                 0   \n",
       "16552                                    0                                 0   \n",
       "...                                    ...                               ...   \n",
       "1471                                     0                                 0   \n",
       "6335                                     0                                 0   \n",
       "14850                                    0                                 1   \n",
       "9737                                     0                                 0   \n",
       "14822                                    1                                 0   \n",
       "\n",
       "       tipo_residencia_Rented apartment  tipo_residencia_With parents  \n",
       "14292                                 0                             0  \n",
       "14853                                 0                             0  \n",
       "441                                   0                             0  \n",
       "336                                   0                             0  \n",
       "16552                                 0                             0  \n",
       "...                                 ...                           ...  \n",
       "1471                                  0                             0  \n",
       "6335                                  0                             0  \n",
       "14850                                 0                             0  \n",
       "9737                                  0                             0  \n",
       "14822                                 0                             0  \n",
       "\n",
       "[12487 rows x 28 columns]"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "x_train"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Rodando o modelo\n",
    "A função RandomForestClassifier gera a estrutura da floresta aleatória, e o parâmetro ```n_estimator``` define o número de árvores na floresta. Normalmente a acurácia do modelo tende a aumentar com o número de árvores, pelo menos até um certo limite - e aumenta também o recurso computacional demandado. Você pode alterar esse parâmetro e verificar se a acurácia do seu modelo melhora - não recomendamos valores muito altos. Vá alterando aos poucos e percebendo como o tempo aumenta com os seus recursos. Não é necessário ir muito além de umas 100 árvores."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "RandomForestClassifier(n_estimators=2)"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Treinar uma Random Forest com 5 árvores\n",
    "\n",
    "clf = RandomForestClassifier(n_estimators=2)\n",
    "clf.fit(x_train,y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Acurácia: 97.19%\n"
     ]
    }
   ],
   "source": [
    "# Calculando a acuracia\n",
    "\n",
    "y_pred = clf.predict(x_test)\n",
    "acc = metrics.accuracy_score(y_test, y_pred)\n",
    "print('Acurácia: {0:.2f}%'.format(acc*100))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.022119591638308216\n",
      "0.46938775510204084\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>mau</th>\n",
       "      <th>False</th>\n",
       "      <th>True</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>row_0</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>False</th>\n",
       "      <td>4023</td>\n",
       "      <td>91</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>True</th>\n",
       "      <td>26</td>\n",
       "      <td>23</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "mau    False  True \n",
       "row_0              \n",
       "False   4023     91\n",
       "True      26     23"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Matriz de confusão\n",
    "\n",
    "tab = pd.crosstab(index = y_pred, columns = y_test)\n",
    "print(tab[1][0]/(tab[1][0] + tab[0][0]))\n",
    "print(tab[1][1]/(tab[1][1] + tab[0][1]))\n",
    "tab"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Etapa 5 Crisp-DM: Avaliação dos resultados\n",
    "A etapa final do CRISP. Neste casp, a nossa avaliação termina com a acurácia. Mas em problemas futuros aprofundaremos mais - a ideia seria avaliar o impacto do uso do modelo no negócio, ou seja, o quanto o resultado financeiro melhora em detrimento da utilização do modelo.\n",
    "\n",
    "Como um exemplo simples, considere que um cliente bom pagador deixa (em média) 5 '*dinheiros*' de lucro, e um mau pagador deixa (em média) 100 '*dinheiros*' de prejuízo.\n",
    "\n",
    "de acordo com a matriz de confusão:\n",
    "\n",
    "| Decisão   | lucro dos bons    | lucro dos maus | total  |\n",
    "| --------- |:-----------------:|:--------------:| ------:|\n",
    "| Aprovador | 4042 x 5          | 72 x (-100)    | 13.010 |\n",
    "| Reprovar  |  27 x 5           | 22 x (-100)    | -2.065 |\n",
    "\n",
    "Estariamos evitando, portanto, um prejuízo de -2.145 '*dinheiros*' - o que na prática significa um aumento no lucro.\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Etapa 6 Crisp-DM: Implantação\n",
    "Nessa etapa colocamos em uso o modelo desenvolvido, normalmente implementando o modelo desenvolvido em um motor de crédito que toma as decisões com algum nível de automação - tipicamente aprovando automaticamente clientes muito bons, negando automaticamente clientes muito ruins, e enviando os intermediários para análise manual."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
